(function(A){A.fn.extend({"banner":function(B){var C={mode:"slide",pages:true,btns:true,title:true,auto:2000,animation:1000};var B=A.extend(C,B);return this.each(function(){var Q=B,R=A(this),P=R.find("img"),L=R.find("li"),N=R.find(".page span"),S=R.find("li").length,M=R.find(".prev"),G=R.find(".next"),I=R.find(".title");if(Q.mode=="slide"){var H=R.find("ul");var J=H.find("img").outerWidth();var E=H.find("img").outerHeight();H.width(J*S);H.height(E)}R.find(".cont").text(S);var O="<div class='page'>";for(i=1;i<=S;i++){O+="<span>"+i+"</span>"}O+="</div>";R.append(O);var O=R.find(".page span");O.eq(0).addClass("current");var K=L.eq(0).find("img").attr("alt");R.find(".alt").text(K);if(B.pages==false){R.find(".page").hide()}if(B.btns==false){M.hide();G.hide()}if(B.title==false){I.hide()}if(Q.mode=="slide"){L.css({"float":"left"})}else{if(Q.mode=="fade"){L.css({"position":"absolute","top":0,"left":0,"display":"none"});L.eq(0).show()}}O.live("click",function(){var U=O.index(this)+1;var T=L.eq(O.index(this)).find("img").attr("alt");R.find(".curr").text(U);R.find(".alt").text(T);if(Q.mode=="slide"){A(this).addClass("current").siblings().removeClass("current");H.stop(true,true).animate({marginLeft:-J*(A(this).index())},Q.animation)}else{if(Q.mode=="fade"){if(L.eq(O.index(this)).is(":hidden")){L.stop(true,true).fadeOut(Q.animation).eq(O.removeClass("current").index(A(this).addClass("current"))).fadeIn(Q.animation)}}}});var F=1;var D=setInterval(function(){O.eq(F).click();F++;if(F==S){F=0}},Q.auto);R.find(".page,.prev,.next,.title").hover(function(){clearInterval(D)},function(){F=R.find(".page span.current").index()+1;if(F==S){F=0}D=setInterval(function(){O.eq(F).click();F++;if(F==S){F=0}},Q.auto)});M.click(function(){F=R.find(".page span.current").index()-1;O.eq(F).click()});G.click(function(){F=R.find(".page span.current").index()+1;if(F==S){F=0}O.eq(F).click()})})}})})(jQuery);